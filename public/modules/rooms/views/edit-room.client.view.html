<section data-ng-controller="ManageRoomsController" data-ng-init="init()">


  <div class="room-owner-panel dark-bg">
    <div class="container">
      <span class="pull-right">
        <a href="/#!/rooms/{{room._id}}">view how this room will look for the users <i class="icon-right-open"></i></a>
      </span>
    </div>
  </div>

  <div class="container">
    <div class="page-header">
        <h1></h1>
    </div>
    <div class="col-md-3">
      <ul class="sidenav">
        <li ng-class="{ active: nav == 'general'}">
          <a ng-click="setTab('general')" href="">
            <i class="glyphicon glyphicon-chevron-right pull-right"></i>
            General
          </a>
        </li>
        <li ng-class="{ active: nav == 'availability'}">
          <a ng-click="setTab('availability')" href="">
            <i class="glyphicon glyphicon-chevron-right pull-right"></i>
            Availability
          </a>
        </li>
        <li ng-class="{ active: nav == 'costs'}">
          <a ng-click="setTab('costs')" href="">
            <i class="glyphicon glyphicon-chevron-right pull-right"></i>
            Costs
          </a>
        </li>
        <li ng-class="{ active: nav == 'address'}">
          <a ng-click="setTab('address')" href="">
            <i class="glyphicon glyphicon-chevron-right pull-right"></i>
            Address
          </a>
        </li>
        <li ng-class="{ active: nav == 'amenities'}">
          <a ng-click="setTab('amenities')" href="">
            <i class="glyphicon glyphicon-chevron-right pull-right"></i>
            Amenities
          </a>
        </li>
        <li ng-class="{ active: nav == 'pictures'}">
          <a ng-click="setTab('pictures')" href="">
            <i class="glyphicon glyphicon-chevron-right pull-right"></i>
            Pictures
          </a>
        </li>
      </ul>
    </div>

    <div class="col-md-6" ng-switch on="nav">
        <div ng-switch-when="general" class="bordered">
          <div class="panel-heading">
            <img ng-show="busy" class="spinner pull-right" src="/modules/core/img/loaders/loading.svg">
            <h3 class="panel-title">Panel title</h3>
            <small>Blalazdjfkdf sjdqsf sjsdkf.</small>
          </div>
          <div class="panel-body">
            <form role="form">
              <div class="form-group">
                <small class="pull-right" ng-bind="(50 - room.info.title.length) + ' characters left'"></small>
                <label class="control-label">Title</label>
                <input ng-model="room.info.title" maxlength="50" limit-text="50" type="text" class="form-control"  placeholder="Title">
              </div>
              <div class="form-group">
                <small class="pull-right" ng-bind="(200 - room.info.description.length) + ' characters left'"></small>
                <label class="control-label">Description</label>
                <textarea ng-model="room.info.description" maxlength="200" limit-text="200" type="text"  placeholder="Description"></textarea>
              </div>
            </form>
            <hr>
            <div class="text-center">
                <a href="" ng-click="remove()" class="text-danger">Verwijder deze kamer</a>
            </div>
          </div>
        </div>

        <div ng-switch-when="availability" class="bordered">
          <div class="panel-heading">
            <img ng-show="busy" class="spinner pull-right" src="/modules/core/img/loaders/loading.svg">
            <h3 class="panel-title">Panel title</h3>
            <small>Blalazdjfkdf sjdqsf sjsdkf.</small>
          </div>
          <div class="panel-body">
            <form class="form-inline" role="form">
              <div class="form-group">
                <input type="text" class="form-control"  placeholder="dd//mm/jjjj">
              </div>
              till
              <div class="form-group">
                <input type="text" class="form-control" placeholder="dd//mm/jjjj">
              </div>
              <button type="submit" class="btn btn-default">Save</button>
            </form>
          </div>
        </div>

        <div ng-switch-when="costs" class="bordered">
          <div class="panel-heading">
            <img ng-show="busy" class="spinner pull-right" src="/modules/core/img/loaders/loading.svg">
            <h3 class="panel-title">Costs</h3>
            <small>Blalazdjfkdf sjdqsf sjsdkf.</small>
          </div>
          <div class="panel-body">
            <form role="form">
              <div class="form-group">
                <label class="control-label">Base price</label>
                <input ng-model="room.price.base" type="text" class="form-control"  placeholder="dd//mm/jjjj">
              </div>
              <div class="form-group">
                <label class="control-label">Period</label>
                <select ng-model="room.price.period" >
                  <option value="monthly">Monthly</option>
                  <option value="monthly">Quarterly</option>
                  <option value="monthly">Yearly</option>
                </select>
              </div>
              <div class="form-group">
                <label class="control-label">Gas, electricity and water (optional)</label>
                <input ng-model="room.price.egw" type="text" class="form-control"  placeholder="Extra costs">
              </div>
              <div class="form-group">
                <label class="control-label">Cleaning (optional)</label>
                <input ng-model="room.price.cleaning" type="text" class="form-control"  placeholder="Cleaning">
              </div>
            </form>
          </div>
        </div>

        <div ng-switch-when="address" class="bordered">
          <div class="panel-heading">
            <img ng-show="busy" class="spinner pull-right" src="/modules/core/img/loaders/loading.svg">
            <h3 class="panel-title">Panel title</h3>
            <small>Blalazdjfkdf sjdqsf sjsdkf.</small>
          </div>
          <div class="panel-body">
            <form role="form">
              <div class="form-group">
                <label class="control-label">Street and number</label>
                <input type="text" class="form-control" placeholder="Meersstraat 34" ng-model="room.location.street">
              </div>
              <div class="form-group">
                <label class="control-label">City</label>
                <input type="text" class="form-control" placeholder="Gent" ng-model="room.location.city">
              </div>
              <div class="form-group">
              <button type="submit" class="btn btn-default">Sign in</button>
              </div>
            </form>
          </div>
        </div>

        <div ng-switch-when="amenities" class="bordered">
          <div class="panel-heading">
            <img ng-show="busy" class="spinner pull-right" src="/modules/core/img/loaders/loading.svg">
            <h3 class="panel-title">Panel title</h3>
            <small>Blalazdjfkdf sjdqsf sjsdkf.</small>
          </div>
          <div class="panel-body">
            <div class="checkbox" ng-repeat="amenity in amenities">
              <label>
                 <input
                    type="checkbox"
                    name="{{amenity.value}}"
                    value="{{amenity.value}}"
                    ng-checked="isAmenityChecked(amenity.value)"
                    ng-click="toggleAmenitySelection(amenity.value)"
                  > {{amenity.name}}
              </label>
            </div>
          </div>
        </div>

        <div ng-switch-when="pictures" class="bordered">
          <div class="panel-heading">
            <img ng-show="busy" class="spinner pull-right" src="/modules/core/img/loaders/loading.svg">
            <h3 class="panel-title">Panel title</h3>
            <small>Blalazdjfkdf sjdqsf sjsdkf.</small>
          </div>
          <div class="panel-body">
            <div class="pictures" ng-hide="room.pictures.length == 0">
              <div class="thumbnail col-sm-4" ng-repeat="picture in room.pictures">
                <img ng-src="http://res.cloudinary.com/dv8yfamzc/image/upload/{{picture}}.png" alt="...">
                <div class="caption">
                  <p>{{picture.caption}}</p>
                  <button ng-click="removeImage($index)">remove</button>
                </div>
              </div>

              <button>Add pics</button>
              <input type="file" ng-file-select="onImageSelect($files)" accept="image/*">
            </div>
            <div ng-show="room.pictures.length == 0">
              <button>Add pics</button>
               <input type="file" ng-file-select="onImageSelect($files)" accept="image/*">
            </div>
          </div>
        </div>

    </div>

    <div class="info col-sm-3">

    </div>
  </div>
</section>